<h1>{{ title }} - {{ today | date : 'short'}}</h1>

@if (pokemonList.length === 0) {
  <app-loading>Pokemon list is loading</app-loading>
}
@else {
  <table class="table">
    <thead>
      <tr>
        <td>Name</td>
        <td>Type</td>
        <td>Type 2</td>
        <td>Image</td>
        <td>Likes</td>
      </tr>
    </thead>
    <tbody>
      @for(pokemon of pokemonList; track pokemon.name) {
      <tr (click)="selectPokemon(pokemon)">
        <td>
          <p [class.fire]="pokemon.type2 === 'fire'">{{ pokemon.name }}</p>
        </td>
        <td>{{ pokemon.type }}</td>
        <td>{{ pokemon.type2 | availability }}</td>
        <td><img [src]="getPokemonImage(pokemon)" alt="My Pokemon image"></td>
        <td>{{ pokemon.likeCount }}</td>
      </tr>
      }
    </tbody>
  </table>

  @if(selectedPokemon) {
    <app-pokemon-detail [pokemon]="selectedPokemon" (liked)="increaseLikes($event)"></app-pokemon-detail>
  }
}
